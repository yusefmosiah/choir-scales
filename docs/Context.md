# Choir Project Context

## Overview

Choir is an innovative socioeconomic media network that leverages blockchain technology to redefine content creation, curation, and collaboration. The platform aims to create the world's highest signal human dataset, which will serve as the foundation for training AI models that excel in both technical prowess and qualitative, stylistic, and artistic dimensions.

## Current State

### Core Components

1. **Chorus AI System**
   - Implemented in `chorus.py`
   - Uses a multi-step process: Action, Experience, Intention, Observation, Update, and Yield
   - Integrates with Qdrant vector database for semantic search
   - Planned enhancements include merging `final_response` and `yield` steps, and including inline citations

2. **Frontend Components**
   - React-based components for user interaction
   - Key components include StreamChat, ChorusStep, ChorusPanel, SourcesList, UserInput, and AIResponse
   - Planned enhancements:
     - Implement chat thread tabs in left sidebar
     - Create separate interfaces for signed-in and signed-out users
     - Develop a dashboard for signed-in users
     - Integrate Authors Chat within chat threads

3. **Blockchain Integration**
   - Solana wallet integration (functional)
   - Components for wallet connection and transactions (SignMessage, SendTransaction)
   - Plans to integrate Thirdweb Embedded Wallet as an alternative option

4. **User Interface**
   - Dark-themed interface with a chat-like layout
   - Responsive design using Tailwind CSS
   - Main components:
     - Left sidebar with chat thread tabs
     - Chat window for user-AI interaction
     - Chorus Panel displaying AI steps and sources
     - User input area with submit button
   - Planned enhancements:
     - Separate interfaces for signed-in and signed-out users
     - Dashboard for signed-in users
     - Autogenerated chat thread names
     - Integration of Authors Chat within chat threads
     - Improved accessibility features

### Database and Configuration

- Qdrant vector database integration for storing and retrieving content
- Configuration management using environment variables and Pydantic
- Utility functions for embeddings and chat completions using Azure OpenAI

### Tokenomics

- CHOIR token defined with a total supply of 10 billion
- Token distribution mechanisms outlined in the whitepaper
- Implementation of token flow mechanics in progress:
  - Content creation rewards
  - Automatic citation rewards
  - Collaborative editing and token investment
  - Divestment mechanism

### AI Model Development

- Target date for the first AI model release: April 27, 2025
- Plan to use Reinforcement Learning with the token-scored dataset
- Focus on enhancing qualitative aspects such as stylistic nuance and artistic expression

## Development Status

- **Solana Wallet Integration**: Functional, inherited from Solana dApp Scaffold
- **Qdrant Integration**: Implemented for data storage and retrieval
- **UI/UX**: Basic implementation complete, based on the provided image
- **Chorus AI**:
  - Implemented with multi-step process: Action, Experience, Intention, Observation, Update, and Yield
  - Integrated with Qdrant for semantic search
  - Planned enhancements include merging `final_response` and `yield` steps, and including inline citations
- **CHOIR Token**:
  - Token defined with a total supply of 10 billion
  - Minting functionality implemented
  - Reward system in place for content creation and citations
  - Token usage for edit requests implemented
- **Authors Chat**: In planning phase
- **Email Notifications**: In planning phase
- **Tokenomics Implementation**: Basic functionality in place, further enhancements planned
- **Testing**:
  - Currently, the project lacks comprehensive testing
  - Plans are in place to implement:
    - Unit and integration tests for Python and TypeScript components
    - Fuzz testing for Solana programs using Ackee Trident
  - Implementation of testing is deferred until after the MVP launch to prioritize core feature development during the sprint

## Next Steps

The immediate next steps, as outlined in the blueprint, focus on:

1. Enhancing Solana Wallet Authentication
2. Optimizing Qdrant Integration for Data Storage
3. Enhancing the Chorus AI System
4. Redesigning the User Interface and Enhancing UX
   - Implement chat thread tabs in left sidebar
   - Create separate interfaces for signed-in and signed-out users
   - Develop a dashboard for signed-in users
   - Integrate Authors Chat within chat threads
   - Improve accessibility
5. Implementing Authors Chat Functionality
6. Preparing for Tokenomics Integration
7. Developing and Deploying Solana Programs (Smart Contracts)
8. Implementing an Email Notification System
9. Integrating Thirdweb Embedded Wallet
10. Producing Media Assets and Publishing Documentation
11. Deploying, Testing, and Launching MVP

These steps are part of a sprint to reach the MVP launch by **October 17, 2024**.

## Key Challenges and Considerations

The Choir project utilizes the Solana Wallet Adapter for seamless integration with Solana wallets. Here's how it's implemented in the codebase:

1. **Setup**:
   - The wallet adapter is set up in `ContextProvider.tsx`.
   - It uses `ConnectionProvider` and `WalletProvider` from `@solana/wallet-adapter-react`.

2. **Wallet Connection**:
   - The `useWallet` hook from `@solana/wallet-adapter-react` is used to access wallet functions.
   - `useConnection` hook provides access to the Solana network connection.

3. **Transaction Handling**:
   - Transactions are created using `@solana/web3.js` library.
   - The wallet's `sendTransaction` method is used to sign and send transactions.

4. **UI Components**:
   - `WalletMultiButton` from `@solana/wallet-adapter-react-ui` is used for wallet connection UI.

5. **Custom Components**:
   - `SendTransaction.tsx` and `SendVersionedTransaction.tsx` demonstrate how to create and send transactions.
   - `SignMessage.tsx` shows how to sign messages using the connected wallet.

6. **State Management**:
   - Wallet connection state is managed by the wallet adapter context.
   - Custom hooks like `useUserSOLBalanceStore` interact with the wallet to fetch balances.

This integration allows for a unified interface to connect various Solana wallets and interact with the Solana blockchain, providing a seamless experience for users to authenticate and perform blockchain operations within the Choir application.

## Testing Strategy

While testing is deferred for the initial MVP sprint, the project has a clear strategy for implementing robust testing post-launch:

1. **Unit and Integration Tests**:
   - For Python backend components
   - For TypeScript frontend components
   - These will cover core functionalities and edge cases

2. **Solana Program Testing**:
   - Utilize Ackee Trident for fuzz testing of Solana smart contracts
   - Trident provides automated techniques to generate random, invalid, or unexpected input data, helping to discover unknown bugs and vulnerabilities [source](https://ackee.xyz/trident/docs/latest/)

3. **Trident Fuzz Testing Features**:
   - Automatically parses Anchor-based programs
   - Generates templates for customized fuzz test scenarios
   - Offers derive macros to implement required traits
   - Includes a bank client and helper functions for account management during testing
   - Provides a CLI for executing and debugging fuzz tests

4. **Fuzz Testing Capabilities**:
   - Test different execution orders of instructions
   - Explore variations in instruction parameters
   - Examine the impact of different account states
   - Conduct comprehensive testing by combining multiple aspects

The Choir project is progressing towards its MVP launch with a clear vision of creating a revolutionary platform for high-quality content creation and AI model training. While challenges remain, the team is actively addressing key issues and working towards a robust, user-friendly, and innovative socioeconomic media network.

---

# Choir Project Questions and Discussion Points

After reviewing the project documentation—**Context.md**, **Blueprint.md**, **ProofOfText.md**, **Whitepaper.md**, and **VisionStatement.md**—the following questions and areas for discussion have been identified. These points are crucial for ensuring the coherence, clarity, and success of the Choir project.

---

## **1. Inconsistencies in Edit Proposal Outcomes**

- **Question**: What is the definitive policy on unresolved edit proposals—are they automatically approved after a certain period, or are they rejected?

  - **Discussion Points**:
    - In **ProofOfText.md**, unresolved edits are **automatically rejected** after a predetermined period.
    - In **Whitepaper.md**, abstention is treated as an implicit **approval** after a 7-day period.
    - **Implications**:
      - Automatic approval could lead to unwanted changes if authors are inactive.
      - Automatic rejection might discourage editors if their efforts are dismissed without consideration.
    - **Possible Resolutions**:
      - Establish a clear and consistent policy across all documents.
      - Consider implementing reminders or incentives for authors to review edit proposals promptly.
      - Explore a middle-ground solution, such as extending the decision period or involving moderators.

---

## **2. Details on Token Circulation and Economics**

- **Question**: How does the platform ensure sustainable token circulation given the fixed total supply of CHOIR tokens?
  - **Discussion Points**:
    - Are there any legal risks associated with CHOIR token distribution and usage?
    - How will the platform ensure compliance with international data protection laws?
    - What disclaimers or terms of service are necessary to protect the platform and its users?
  - **Possible Resolutions**:
    - Consult with legal experts to review platform operations and documentation.
    - Update the **Whitepaper.md** and other public documents with necessary legal disclaimers.
    - Develop comprehensive terms of service and privacy policies.

---

## **10. Standardization of Terminology and Policies**

- **Question**: How can the project ensure consistency in terminology and policy definitions across all documentation?
  - **Discussion Points**:
    - Inconsistent use of terms like "abstention," "divestment," and "edit proposal."
    - Potential confusion among developers, users, and stakeholders.
  - **Possible Resolutions**:
    - Create a glossary of terms with clear definitions.
    - Review and revise all documents to align terminology.
    - Establish documentation guidelines for future updates.

---

## **11. Strengthening the Business Model**

- **Question**: Are there plans to provide detailed technical documentation and support for developers interested in building on or integrating with the platform?
  - **Discussion Points**:
    - Availability of APIs, SDKs, or developer tools.
    - Encouraging third-party development and integrations.
    - Maintaining open-source repositories and technical resources.
  - **Possible Resolutions**:
    - Publish comprehensive technical documentation and code samples.
    - Create developer portals or communities.
    - Offer support channels for technical inquiries and collaborations.

---

## **13. Risk Management and Mitigation Strategies**

- **Question**: What are the potential risks the platform might face, and how does it plan to mitigate them?
  - **Discussion Points**:
    - Technical challenges, such as scalability and security vulnerabilities.
    - Market risks, like token value volatility or declining user engagement.
    - Operational risks, including funding, staffing, and regulatory changes.
  - **Possible Resolutions**:
    - Conduct a comprehensive risk assessment with contingency plans.
    - Implement robust security protocols and regular audits.
    - Diversify strategies to adapt to market and regulatory environments.

---

## **14. Community Governance and Involvement**

- **Question**: How and when will decentralized governance mechanisms be incorporated to involve the community in decision-making?
  - **Discussion Points**:
    - Benefits of early community involvement in platform evolution.
    - Mechanisms for proposing and voting on changes or new features.
    - Ensuring equitable participation from a diverse user base.
  - **Possible Resolutions**:
    - Introduce governance tokens or voting rights linked to CHOIR tokens.
    - Set up governance forums or platforms for proposals and discussions.
    - Schedule governance integration milestones in the project roadmap.

---

## **15. Technical Documentation and Developer Support**

- **Question**: Are there plans to provide detailed technical documentation and support for developers interested in building on or integrating with the platform?
  - **Discussion Points**:
    - Availability of APIs, SDKs, or developer tools.
    - Encouraging third-party development and integrations.
    - Maintaining open-source repositories and technical resources.
  - **Possible Resolutions**:
    - Publish comprehensive technical documentation and code samples.
    - Create developer portals or communities.
    - Offer support channels for technical inquiries and collaborations.

---

### Corporate Structure and Fundraising Plans

- **Dual Structure**: Choir operates both as a corporate entity with stock and a decentralized community with the CHOIR token.
- **Fundraising Initiative**:
  - **Target Date**: Planning to raise funds by **December 19**.
  - **Purpose**:
    - Hire exceptional talent across various domains.
    - Invest in AI model training and platform infrastructure.
  - **Amount and Terms**: To be determined.

- **Strategic Goals**:
  - **Corporate Ownership of Tokens**: The corporation aims to own the CHOIR token to solidify its stake in the platform's success.
  - **Treasury Holdings**: The Choir Treasury plans to eventually hold tokenized corporate stock, fostering a mutually beneficial relationship.

- **Community and Investor Alignment**:
  - Seeking investors who share the platform's vision and values.
  - Ensuring that fundraising efforts enhance user experience and platform value.

---

## Conclusion

Addressing these questions is essential for the successful development and launch of the Choir platform. By engaging in thorough discussion and finding satisfactory answers, the project can strengthen its foundation, enhance stakeholder confidence, and pave the way for a vibrant and sustainable ecosystem.

---
